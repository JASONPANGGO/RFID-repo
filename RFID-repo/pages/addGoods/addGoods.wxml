<!--pages/addGoods/addGoods.wxml-->
<view class="header-small">
  <view>
    <van-icon name="home-o" style="vertical-align: middle;" /> 添加商品
  </view>
</view>

<view class="header-small-gap">
  <view class="goods-image">
    <van-uploader file-list="{{ fileList }}">
      <view class="image-uploader">
        <van-icon name="photo-o" style="vertical-align:middle" />
        <text>上传商品图片</text>
      </view>
    </van-uploader>
  </view>
  <view class="form">
    <van-cell-group>
      <van-field label="所属仓库" disabled value="{{repo.name}}" bindtap="onSelectRepo" />
      <van-field label="商品名称" value="{{name}}" required placeholder="请输入仓库名称" data-field="name" bind:change="onInput" />
      <van-field disabled label="创建时间" value="{{create_time}}" />
      <van-field label="价格" value="{{price}}" data-field="price" bind:change="onInput" placeholder="请输入价格" />
      <van-field label="库存" value="{{amount}}" data-field="amount" bind:change="onInput" placeholder="请输入库存" />
      <van-field label="条形码" value="{{bar_code}} " data-field="bar_code" bind:change="onInput" placeholder="扫一扫或者手动输入" />
    </van-cell-group>
  </view>
</view>

<view class="bottom-button">
  <view class="scan-btn">
    <van-button type="info" bindtap="scan" icon="scan">
      扫一扫
    </van-button>
  </view>
  <view class="sub-btn">
    <van-button type="primary" bindtap="onSubmit" icon="success">
      完成
    </van-button>
  </view>
</view>

<van-popup show="{{ show_select }}" bind:close="onClose" position="bottom">
  <van-picker columns="{{ repo_list }}" show-toolbar bind:cancel="onClose" bind:confirm="onSelect" />
</van-popup>